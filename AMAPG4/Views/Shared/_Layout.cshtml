<!DOCTYPE html>
<html>

<meta name="viewport" content="width=device-width" />
<title>@ViewBag.Title</title>
<link rel="stylesheet" href="~/css/global.css" />

@RenderSection("Styles", required: false)

<script>
	document.addEventListener("DOMContentLoaded", function (event) {
		var scrollpos = localStorage.getItem('scrollpos');
		if (scrollpos) window.scrollTo(0, scrollpos);
	});

	window.onbeforeunload = function (e) {
		localStorage.setItem('scrollpos', window.scrollY);
	};
</script>

<header>
	<img id="header-logo" src="~/images/logo.png" />

	@await Component.InvokeAsync("Navbar")


	<div class="nav-right-btns">
		@if (User.Identity.IsAuthenticated && User.IsInRole("Manager"))
		{
			<div class="btn btn-account"><div class="btn-text">@Html.ActionLink("Mon Compte manager", "Index", "Account", null, new { @class = "btn-link" })</div></div>
			<div class="btn-basket-icon"><a href="@Url.Action("Index", "Order")" class="btn-link"><img src="~/images/logoPanier.png" alt="Mon panier" class="btn-icon" /></a></div>
			<div class="btn btn-logout"><div class="btn-text">@Html.ActionLink("Déconnexion", "Deconnexion", "Login", null, new { @class = "btn-link" })</div></div>
			<div class="btn btn-account">@Html.ActionLink("Mon tableau de bord", "IndexManager", "DashBoard", null, new { @class = "nav-link" })</div>
		}
		else if (User.Identity.IsAuthenticated && User.IsInRole("Utilisateur"))
		{
			<div>
				<div class="btn btn-account"><div class="btn-text">@Html.ActionLink("Mon Compte", "Index", "Account", null, new { @class = "btn-link" })</div></div>
				<div class="btn-basket-icon"><a href="@Url.Action("Index", "Order")" class="btn-link"><img src="~/images/logoPanier.png" alt="Mon panier" class="btn-icon" /></a></div>
				<div class="btn btn-logout"><div class="btn-text">@Html.ActionLink("Déconnexion", "Deconnexion", "Login", null, new { @class = "btn-link" })</div></div>

			</div>

		}
		else if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
		{
			<div>
				<div class="btn btn-account"><div class="btn-text">@Html.ActionLink("Mon Compte Administrateur", "Index", "Account", null, new { @class = "btn-link" })</div></div>
				<div class="btn-basket-icon"><a href="@Url.Action("Index", "Order")" class="btn-link"><img src="~/images/logoPanier.png" alt="Mon panier" class="btn-icon" /></a></div>
				<div class="btn btn-logout"><div class="btn-text">@Html.ActionLink("Déconnexion", "Deconnexion", "Login", null, new { @class = "btn-link" })</div></div>
				<div class="btn btn-logout"><div class="btn-text">@Html.ActionLink("Back-Office", "Index", "Dashboard", null, new { @class = "btn-link" })</div></div>
			</div>

		}
		else
		{
			<div class="default-right-btns">
				<div class="btn btn-connection"><div class="btn-text">@Html.ActionLink("Se Connecter", "Index", "Login", null, new { @class = "btn-link" })</div></div>
				<div class="btn btn-register"><div class="btn-text">@Html.ActionLink("S’inscrire", "CreateIndividualAccount", "Login", null, new { @class = "btn-link" })</div></div>
			</div>
		}
	</div>


</header>

<body>
	@RenderBody()
</body>

<footer class="footer">
	<div class="footer-bottom">


		<div class="distribution-footer">
			<p><u>Site de distribution :</u></p>
			<p>36 rue de Château Rouge<br>73000 CHAMBERY</p>
			<p>Tous les jeudis de 18h15 à 19h30</p>
		</div>
		<div class="contact-footer">
			<p>monpanierpaysan@amap.fr</p>
			<p>Tél : 04 79 00 12 68</p>
		</div>
		<img id="footer-logo" src="~/images/logo.png" />
		<p>Mentions légales – Politique de confidentialité &copy; 2024 - Mon Panier Paysan</p>
	</div>
</footer>
</html>
